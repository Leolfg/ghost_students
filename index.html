<html>
  <head>
    <script src="js/aframe.min.js"></script>
    <script src="js/aframe-extras.min.js"></script>
		<script src="js/aframe-event-set-component.min.js"></script>

    <script src="js/student-manager.js"></script>

  </head>
  <body>
    <a-scene color-space="sRGB" renderer="colorManagement: true;">
        <a-assets timeout="">

          <audio id="miroir" src="audio/miroir.mp3"></audio> <!-- Put the sounds first, so they load first and don't crash/whatever-->
          <audio id="quack" src="audio/quack.wav"></audio> <!-- Put the sounds first, so they load first and don't crash/whatever-->

            <a-asset-item id="leo" src="models/characters/leo/leo_samba_rouge.gltf"></a-asset-item>
            <a-asset-item id="felix" src="models/characters/felix/felix_rouge.gltf"></a-asset-item>
            <a-asset-item id="tine_swim" src="models/characters/tine/tine_swim_rouge.gltf"></a-asset-item>
            <a-asset-item id="tine_dance" src="models/characters/tine/tine_anim_dance.gltf"></a-asset-item>
            <a-asset-item id="tine_sit" src="models/characters/tine/tine_site.gltf"></a-asset-item> 
            <a-asset-item id="alice" src="models/characters/alice/alice_anim_rouge.gltf"></a-asset-item>
            <a-asset-item id="faustine" src="models/characters/faustine/faustine_anim.gltf"></a-asset-item>
            
            <a-asset-item id="estienne" src="models/estienne/Estienne3.gltf"></a-asset-item>

        </a-assets>

      <a-entity gltf-model="#estienne" visible="false" position="-33.404 4.130 -23.70" scale="12 12 12"></a-entity>

      <a-entity id="student_1" gltf-model="#leo" scale="17 17 17" position="-1.7 0 -3.3" rotation="" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_1" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-1.7 0.63251 -3.3" scale="" sound="src:#miroir; on: click"
      event-set__hidetrigger1="_event: click; visible: false; class: activated_student_trigger"
			event-set__hidestudent1="_event: click; _target: #student_1; visible: false;"
      ></a-entity>
      
      <a-entity id="student_2" class="" gltf-model="models/characters/alice/alice_anim_rouge.gltf" scale="2.5 2.5 2.5" position="6.9 0.44 -15.69" rotation="" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_2" student-manager  class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="7.00936 0.88807 -15.317" scale="1 1 1.8" sound="src:#quack; on: click"
      event-set__hidetrigger2="_event: click; visible: false; class: activated_student_trigger"
      event-set__hidestudent2="_event: click; _target: #student_2; visible: false;"
      ></a-entity>

      <a-entity id="student_3" class="" gltf-model="#felix" scale="17 17 17" position="-6.19713 5.73006 10.70071" rotation="" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_3" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-6.2 6.4 10.7" scale="" sound="src:#quack; on: click"
      event-set__hidetrigger3="_event: click; visible: false; class: activated_student_trigger"
			event-set__hidestudent3="_event: click; _target: #student_3; visible: false;"
      ></a-entity>

      <a-entity id="student_4" class="" gltf-model="#tine_sit" scale="19 19 19" position="-19 8.5 3.4" rotation="0 60 0" animation-mixer="clip: SIT"></a-entity>
      <a-entity id="trigger_student_4" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-18.88351 9.01751 3.49886" scale="0.6 0.6 0.6" sound="src:#miroir; on: click"
      event-set__hidetrigger4="_event: click; visible: false; class: activated_student_trigger"
      event-set__hidestudent4="_event: click; _target: #student_4; visible: false;"
      ></a-entity>

      <a-entity id="student_5" class="" gltf-model="models/characters/faustine/faustine_anim.gltf" scale="3 3 3" position="-18.04384 -1.9808 36.65401" rotation="10 90 0" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_5" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-17.88 -0.62775 36.638" scale="0.8 1.67 0.8" sound="src: audio/quack.wav; on: click"
      event-set__hidetrigger5="_event: click; visible: false; class: activated_student_trigger"
			event-set__hidestudent5="_event: click; _target: #student_5; visible: false;"></a-entity>

      <a-entity id="student_6" class="" gltf-model="#leo" scale="17 17 17" position="-15.56323 -1.175 -4.36999" rotation="" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_6" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-15.56323 -1.175 -4.36999" scale="" sound="src:#miroir; on: click"
      event-set__hidetrigger6="_event: click; visible: false; class: activated_student_trigger"
      event-set__hidestudent6="_event: click; _target: #student_6; visible: false;"
      ></a-entity>

      <a-entity id="student_7" class="" gltf-model="#felix" scale="17 17 17" position="12.26 -0.66 30.26" rotation="" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_7" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="12.26 0.055 30.379" scale="1 1.35 1" sound="src:#quack; on: click"
      event-set__hidetrigger7="_event: click; visible: false; class: activated_student_trigger"
      event-set__hidestudent7="_event: click; _target: #student_7; visible: false;"
      ></a-entity>

      <a-entity id="student_8" class="" gltf-model="#alice" scale="2.5 2.5 2.5" position="-8.33834 -4.68163 35.62579" rotation="" animation-mixer="clip: ANIM_1"></a-entity>
      <a-entity id="trigger_student_8" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-8.41986 -4.68163 36.06388" scale="1.03 1 2" sound="src:#miroir; on: click"
      event-set__hidetrigger8="_event: click; visible: false; class: activated_student_trigger"
      event-set__hidestudent8="_event: click; _target: #student_8; visible: false;"
      ></a-entity>

      <a-entity id="student_9" class="" gltf-model="#tine_dance" scale="17 17 17" position="-13.7 1 21.72" rotation="" animation-mixer="clip: DANCE"></a-entity>
      <a-entity id="trigger_student_9" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="-13.7 1.536 21.72" scale="" sound="src:#quack; on: click"
      event-set__hidetrigger9="_event: click; visible: false; class: activated_student_trigger"
      event-set__hidestudent9="_event: click; _target: #student_9; visible: false;"
      ></a-entity>

      <a-entity id="nul_tine_swim" position ="-10.8 20 11.025" scale="1 1 1" animation__1="property: rotation; from: 0 0 0; to: 0 -360 0; dur: 20000; loop: true; dir: normal; easing: linear">
        <a-entity id="student_10" class="" gltf-model="#tine_swim" scale="17 17 17" position="10 0 0" rotation="25 0 0" animation-mixer="clip: SWIM"></a-entity>
        <a-entity id="trigger_student_10" student-manager class="student_trigger" geometry="" material="color: blue; opacity: 0.25" position="9.97665 0.44 0.12072" scale="1 0.5 1" sound="src:#miroir; on: click"
        event-set__hidetrigger10="_event: click; visible: false; class: activated_student_trigger"
        event-set__hidestudent10="_event: click; _target: #student_10; visible: false;"
        ></a-entity>
      </a-entity>>

      <a-sky color="#ECECEC"></a-sky>

      <a-entity id="camera_rig" position="2.5 0.8 -8" rotation="-1 -212 0">
        <a-entity id="camera" position="" camera="active : true; fov: 50; near: 0.001" look-controls="pointerLockEnabled: true" wasd-controls="fly: true; acceleration: 95" rotation="">
              <a-entity cursor="fuse: true; fuseTimeout: 500" position="0 0 -0.5" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat" raycaster="objects: .student_trigger"
              animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
              animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
              animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"></a-entity>
                  <a-text id="score_text" score-init="" font="mozillavr" value="10" color="#ff0000" position="0.1717 0.19409 -0.48689" scale="0.1 0.1 0.1" text="align: right"></a-text>
                  <a-text id="etudiants_text" font="mozillavr" value="  /10 etudiants d'Estienne" color="#ff0000" position="0.176 0.19409 -0.48689" scale="0.1 0.1 0.1" text=""></a-text>
          <a-entity id="plane_fov" visible="false" geometry="primitive: plane" position="0 0 -0.5" scale="0.97961 0.46268 0.61225"></a-entity>
        </a-entity>
      </a-entity>

      <a-entity id="camera_2" position="0 20.81 -33.45" rotation="-23.6 -197 0" camera="active: false; fov: 50; near: 0.001" look-controls="pointerLockEnabled: true" wasd-controls="fly: true; acceleration: 95">
        <a-text id="ending_text" font="mozillavr" color="#ff0000" position="0.00789 -0.13269 -0.48704" scale="0.1 0.1 0.1" text="value: Bravo ! Vous avez trouve tous les etudiants. Vous etes admis en DSAA, felicitations.; align: center" value="Bravo ! Vous avez trouve tous les etudiants. Vous voila admis en DSAA ! Felicitations."></a-text>
        <a-text id="ending_text_2" font="mozillavr" color="#ff0000" position="0.00789 -0.18395 -0.48704" scale="0.1 0.1 0.1" text="value: Et non, il n'y a pas d'accents sur cette police de caracteres.; align: center; wrapCount: 70" value="Et non, il n'y a effectivement pas d'accents sur cette police de caracteres."></a-text>
        <a-text id="ending_text_3" font="mozillavr" color="#ff0000" position="0.00789 -0.19839 -0.48704" scale="0.1 0.1 0.1" text="value: Avril 2020, Leo Laffargue, DSAA DCN 2; align: center; wrapCount: 70" value="Réalisé en Avril 2020 par Léo &quot;tresgrave_tm&quot; Laffargue, DSAA DCN 2"></a-text>
        <a-entity id="plane_fov_2" visible="" geometry="primitive: plane" position="0.00852 -0.18138 -0.52492" scale="0.52 0.135 0.00001" material="color: #FFF, shader:  flat;"></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>